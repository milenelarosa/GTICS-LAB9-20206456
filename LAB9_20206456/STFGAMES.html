<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{/css/fontawesome-all.min.css}">

  <style>
    .btn-p {
      display: inline-block;
      padding: 12px 20px;
      color:white;
      background-color: #0ea134;
      text-decoration: none;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 17px;
    }
  </style>

</head>
<body style="padding-left: 20px">
<br><br>
<h1 style="font-size: 60px"> El juego del Laberinto</h1>

<button id="textarea" value="si" onclick="mostrarMasElementos()" class="btn-p">Subir laberinto</button>

<br><br>


<div id="masElementos" style="display:none;">
  <textarea id="entrada" onkeyup="escribir2()"></textarea>
  <div id="cont3"></div>
  <p id="demo" ></p>
</div>



<script>

  function mostrarMasElementos() {
    var var1 = document.getElementById("textarea").value;

    if (var1 === "si") {
      document.getElementById("masElementos").style.display = "block";
    } else {
      document.getElementById("masElementos").style.display = "none";
    }
  }

</script>

<script>
  document.getElementById("demo").innerHTML;

      function crearlaberinto() {
        let listacontenido = document.getElementById("cont3");

        let text = "<ul>";
        listacontenido.forEach(myFunction);
        text += "</ul>";

        document.getElementById("demo").innerHTML = text;

        function myFunction(value) {
          text += "<li>" + value + "</li>";
        }
      }
</script>

<script>
      function mostrarcuadro(){
      document.getElementById("entrada").style.display = "display"
    }
      function escribir2() {
      valor = document.getElementById('entrada').value;
      document.getElementById('cont3').innerHTML=' '+valor;}


      const guardarArchivoDeTexto = (contenido, nombre) => {
      const a = document.createElement("a");
      const archivo = new Blob([contenido], {type: 'text/plain'});
      const url = URL.createObjectURL(archivo);
      a.href = url;
      a.download = nombre;
      a.click();
      URL.revokeObjectURL(url);
    }
      const $botonDescargar = document.querySelector("#descargar");
      $botonDescargar.onclick = () => {
      guardarArchivoDeTexto("OSOOOOOOOOO\n" +
        "OOOOOPOOOAO\n" +
        "IOOAOOOOOOO\n" +
        "OOOOOCOOOOO\n" +
        "OOOOOOOOPOO\n" +
        "OOOOOOSOOOF\n" +
        "POOOOOOOOAO\n" +
        "OOOCOAOOOOO\n" +
        "OOOOOOOSOOO\n" +
        "OAOOOOOOOOC\n" +
        "OOOOPOOOAOO\n" +
        "\n" +
        "I:#FFFF00\n" +
        "F:#008000\n" +
        "O:#add8e6\n" +
        "A:#000000\n" +
        "S:suplantacion.png 1\n" +
        "C:copia.png 2\n" +
        "P:plagio.png 3", "mapa_del_juego.txt");
    }

      // Función para leer archivos de texto
      function leerArchivos() {
      // Obtenemos los archivos del form y creamos un lector para cada archivo
      let files = document.getElementById("myFiles").files;
      for(let i=0; i<files.length; i++) {
      let reader = new FileReader();
      reader.fileName = files[i].name;
      // Hay que crear un evento onload para mostrar el contenido una vez leído
      reader.onload = function(e) {
      // Mostramos los datos leídos y "filtrados" a HTML en un nuevo párrafo
      let p = document.createElement("p");
      document.body.appendChild(p);
      p.innerHTML = "Contenido del archivo: " + e.target.fileName + "<br>" + escapeHTML(e.target.result).replaceAll("\n", "<br>");
    };
      // Leemos el archivo
      reader.readAsText(files[i]);
    }
    }
</script>

</body>
</html>
